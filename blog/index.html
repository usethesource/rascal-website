<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Blog | The Rascal Meta Programming Language</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://rascal-mpl.org/blog"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="Blog | The Rascal Meta Programming Language"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/images/favicon.ico"><link data-rh="true" rel="canonical" href="https://rascal-mpl.org/blog"><link data-rh="true" rel="alternate" href="https://rascal-mpl.org/blog" hreflang="en"><link data-rh="true" rel="alternate" href="https://rascal-mpl.org/blog" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://FKSZQR9CR0-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="The Rascal Meta Programming Language RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="The Rascal Meta Programming Language Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="The Rascal Meta Programming Language" href="/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/release-notes/rss.xml" title="The Rascal Meta Programming Language RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/release-notes/atom.xml" title="The Rascal Meta Programming Language Atom Feed"><link rel="stylesheet" href="/assets/css/styles.dd2e417b.css">
<link rel="preload" href="/assets/js/runtime~main.b0386e6a.js" as="script">
<link rel="preload" href="/assets/js/main.204a5bdf.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/images/rascal_large_no_text.png" alt="Rascal logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/images/rascal_large_no_text.png" alt="Rascal logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">The Rascal Meta Programming Language</b></a><a class="navbar__item navbar__link" href="/docs/WhyRascal/">Docs</a><a class="navbar__item navbar__link" href="/stories">Stories</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/release-notes">Release notes</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/projects">Projects</a><a class="navbar__item navbar__link" href="/team">Team</a><a href="https://github.com/usethesource" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/03/01/what-is-vallang">What is ValLang?</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/05/16/navigating-the-wordpress-plugin-landscape">Navigating the WordPress Plugin Landscape</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/03/12/performance-modeling-of-maximal-sharing">Performance Modeling of Maximal Sharing - Experience Report</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/01/01/empirical-analysis-of-the-relationship-between-CC-and-SLOC">Empirical analysis of the relationship between CC and SLOC</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2015/10/30/optimizing-hash-tries">Optimizing Hash Tries</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2015/03/02/from-imperative-to-functional">From imperative programming to functional programming</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2013/08/02/the-language-interaction-design-of-concrete-syntax">The Language Interaction Design of Concrete Syntax</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2013/07/29/dsl-in-36-lines-of-code">A DSL in 36 lines of code</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2013/05/15/from-functions-to-term-rewriting-and-back">From functions to term rewriting and back in Rascal</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2017/03/01/what-is-vallang">What is ValLang?</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2017-03-01T00:00:00.000Z" itemprop="datePublished">March 1, 2017</time> ¬∑ <!-- -->12 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="http://homepages.cwi.nl/~jurgenv" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.cwi.nl/news/2014/jurgen-vinju-appointed-professor/@@images/5e1fe43d-a00b-4989-a5b9-eb526725c6ee.jpeg" alt="Jurgen Vinju"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="http://homepages.cwi.nl/~jurgenv" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jurgen Vinju</span></a></div><small class="avatar__subtitle" itemprop="description">Groupleader @ CWI-SWAT, professor @ TU/E, Rascal Core Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p><strong>Vallang</strong> (<a href="https://github.com/usethesource/vallang" target="_blank" rel="noopener noreferrer">https://github.com/usethesource/vallang</a>) is a highly integrated and mostly-closed collection of mutually recursive fundamental data-types on the Java Virtual Machine:</p><ul><li>locations represented by URIs: <code>|java+class://java/lang/String|</code> and <code>|file:///tmp/HelloWorld.java|</code></li><li>integers of arbitrary size: <code>1,2,3, 134812345123841234</code></li><li>reals of arbitrary size, precision and scale: <code>1., 1.0, 1e10</code></li><li>rational numbers: <code>1r1, 1r7</code></li><li>unicode strings: <code>&quot;hello üåê&quot;</code></li><li>lists: <code>[1,2, 1.0, &quot;hello üåê&quot;]</code>, <code>[]</code></li><li>sets: <code>{1,2, 1.0, &quot;hello üåê&quot;}</code>, <code>{}</code></li><li>maps: <code>(1:0, &quot;a&quot;:&quot;b&quot;)</code>, <code>()</code></li><li>n-ary tuples with named fields: <code>&lt;1,2,&quot;a&quot;,1.0&gt;</code>, <code>&lt;&gt;</code></li><li>n-ary relations (represented as sets of n-ary tuples): <code>{&lt;1,2,&quot;a&quot;,1.0&gt;, &lt;&gt;}</code></li><li>tree nodes: <code>&quot;myNode&quot;(1,2,3)</code></li><li>many-sorted algebraic terms, acting as typed tree nodes: <code>myNode(1,2,3)</code>.</li><li>keyword fields or properties to tree nodes and algebraic data-types: <code>&quot;myNode&quot;(name=&quot;Winston&quot;)</code>, <code>myNode(age=12)</code></li></ul><p>Operations on these data-types are too many to list here. A selection is listed below, but you should expect the features to be pretty low level; i.e. directly accessing and manipulating the data rather than providing analysis algorithms. Algorithms in the library are added only if programming them below the abstraction layer of <strong>vallang</strong> provides a major efficiency benefit or it can factors out highly common client code into a reusable feature. More on this design decision later. </p><ul><li>relational calculus operators such as transitive (reflexive) closure, query and projections, compositions and joins</li><li>generic tree traversal and primitives for implementing pattern matching</li></ul><p><strong>Vallang</strong> has a type system based on type systems in functional programming, but note that each value has a most specific dynamic type associated always at run-time. More on the design of the type system below, but here is a list of <strong>vallang</strong> types:</p><ul><li><code>void</code> - the bottom type with no values</li><li><code>value</code> - the top type for all values</li><li><code>loc</code> - the type for URI locations</li><li><code>int</code>, <code>real</code>, <code>rat</code> are all sub-types of the aggregate type <code>num</code></li><li><code>tuple[t1,...,tn]</code> and <code>tuple[t1 l1, ..., tn ln]</code> to represent tuples of fixed but arbitrary arity</li><li><code>list[t]</code>, <code>set[t]</code>, <code>map[t1,t2]</code> as incomparable alternative collection types.</li><li><code>node</code> for trees</li><li>user-defined many-sorted mutually recursive algebraic data-types, acting as grammars for instances of tree nodes: <code>data MyADT = myNode(int a, int b, int c, int age=...)</code></li><li>alias types for short-handed type equivalences</li><li><code>rel[t1, ..., tn]</code> is an alias for <code>set[tuple[t1,...tn]]</code></li><li>open type parameters with upper bounds, <code>&amp;T &lt;: node</code>, can be used to type parameterize composite types (used in type aliases) and to construct higher-order abstract algebraic datatypes.</li></ul><p>Sub-typing is <em>co-variant</em> for the container types <code>list</code>, <code>map</code>, <code>set</code> and <code>tuple</code>. Otherwise these rules define the entire type system:</p><ul><li><code>value</code> is a strict supertype of all other types other than itself</li><li><code>node</code> is the common supertype of all algebraic data-types</li><li>each algebraic constructor is a strict sub-type of its abstract sort</li><li><code>void</code> is the sub-type of all types</li><li><code>num</code> is the supertype of <code>rat</code>, <code>int</code> and <code>real</code></li><li>an alias <code>alias X = Y</code> is a type equivalence</li><li>constructor types are sub-types if they have the same name and arity, and they are comparable in their argument types. <ul><li>Within a single abstract sort no two alternative constructors may be sub-types of each other. </li></ul></li></ul><p>There exists an extension mechanism for adding type kinds and their associated value kinds to the <strong>vallang</strong> system. Rascal, for example, uses this to represent functions and co-routines at run-time. The extension mechanism works by declaring a bi-directional transformation between the extensions and a symbolic representation of choice (chosen freely from the core representation mechanisms of <strong>vallang</strong>). This bidirectional mapping is mostly used when serializing and deserializing values (see below).</p><p>The types of <strong>vallang</strong> in Java are represented by a Composite design pattern with maximally shared instances of (the otherwise opaque) abstract class <code>Type</code>. These types expose fast implementations of sub-type and type equivalence for implementing fast pattern matching. </p><p>The values of <strong>vallang</strong> are all instances of <code>IValue</code> and sub-interfaces thereof. For every kind of value there is an interface, e.g. <code>ISet</code>, <code>IList</code>, <code>ITuple</code> and <code>IConstructor</code> but they are not type-parametrized because Java&#x27;s type system can not represent the aforementioned co-variant sub-typing rules we require. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-does-vallang-exist">Why does Vallang exist?<a class="hash-link" href="#why-does-vallang-exist" title="Direct link to heading">‚Äã</a></h2><p><strong>vallang</strong> is a <a href="http://www.usethesource.io" target="_blank" rel="noopener noreferrer">UseTheSource</a> project recently renamed from <strong>rascal-values</strong>, which was known earlier as <strong>pdb.values</strong>. </p><p>The project started as a part of the <a href="http://homepages.cwi.nl/~jurgenv/papers/OOPSLA-2009.pdf" target="_blank" rel="noopener noreferrer">IDE metatooling platform</a> in 2007 as a <em>generic library for representing symbolic facts about source code</em>, for use in the construction of IDE services in Eclipse, then it continued to form the basis of the run-time system for <a href="http://www.rascal-mpl.org" target="_blank" rel="noopener noreferrer">Rascal</a> starting 2009, and finally was renamed to <strong>vallang</strong> to serve a wider scope.</p><p>We designed of <strong>vallang</strong> based on experience with and studying the <a href="http://www.meta-environment.org/Meta-Environment/ATerms.html" target="_blank" rel="noopener noreferrer">ATerm library</a> and <a href="http://www.meta-environment.org/Meta-Environment/WebHome.html" target="_blank" rel="noopener noreferrer">ASF+SDF</a>, but also by learning from RSF (Rigi Standard Format), Rscript and GXL and S-expressions. Perhaps JSON and YAML have also had a minor influence.</p><blockquote><p>The main purpose of <strong>vallang</strong> is to provide a flexible and fully typed collection of <em>symbolic</em> representations of data, specifically &quot;ready&quot; to represent facts about software systems but amenable to basically any form of symbolic data analysis purposes.</p></blockquote><p>This purpose aligns with the mission of the <a href="http://www.rascalmpl.org" target="_blank" rel="noopener noreferrer">Rascal metaprogramming language</a> which is made to <em>analyze</em> and <em>manipulate</em> exactly such symbolic representations. Therefore <strong>vallang</strong> is the run-time environment for both interpreted and compiled Rascal programs. </p><p>Note that while <strong>vallang</strong> is a great fit for symbolic data analysis, it is currently not the best fit for numerical data analysis as it features only a uniform symbolic represetation of numbers of arbitrary precision and size (ints, reals, rationals). In other words, the numbers and collections of numbers in <strong>vallang</strong> are optimized for storage size, clarity and equational reasoning rather than optimal computational efficiency. This also means that indirect numerical encodings of data (i.e. using numerical vectors and matrices), which are often used in symbolic analyses to optimize computational efficiency are not the right strategy when using <strong>vallang</strong>: it&#x27;s better to stick with a more direct symbolic representation and let <strong>vallang</strong> maintainers optimize them. </p><p>Next to the maintainers of Rascal, the main users of <strong>vallang</strong> are currently programmers who write data acquisition and (de)serialisation adapters for the Rascal ecosystem:</p><ul><li>connecting open-compiler front-ends to Rascal</li><li>providing external data-sources such as SQL and MongoDB databases</li><li>connecting reusable interaction and visualization front-ends to Rascal</li></ul><blockquote><p>Nevertheless <strong>vallang</strong> is a generic and Rascal-independent library which may serve as the run-time system for other programming languages or analysis systems, such as term rewriting systems, relational calculus systems, constraint solvers, model checkers, model transformations, etc.</p></blockquote><p>The latter perspective is the reason for the re-branding of <strong>rascal-values</strong> to <strong>vallang</strong>. You might consider <strong>vallang</strong> as a functional replacement for ECore, an alternative to the ATerm library on the JVM, or an alternative to JSON-based noSQL in-memory database systems, or a way of implementing graph databases. </p><p>Finally, <strong>vallang</strong> is a JVM library because that is where we needed it for Rascal and the Eclipse IDE Metatooling Platform. We hope other JVM programmers will also benefit from it and we have no plans of porting it at the moment to any other technological space. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-are-the-main-design-considerations-of-vallang">What are the main design considerations of Vallang?<a class="hash-link" href="#what-are-the-main-design-considerations-of-vallang" title="Direct link to heading">‚Äã</a></h2><h4 class="anchor anchorWithStickyNavbar_LWe7" id="vallang-values-are-symbolic-and-immutable">Vallang values are symbolic and immutable.<a class="hash-link" href="#vallang-values-are-symbolic-and-immutable" title="Direct link to heading">‚Äã</a></h4><p>We think software analysis is complex enough to be confusing to even the most experienced programmers. Manipulating huge stores of hierarchical and relational data about softwar easily goes wrong; trivial bugs due to aliasing and sharing data between different stages of an analysis or transformation can take weeks to resolve, or worse: will never even be diagnosed. </p><p>Since our goal is to provide many more variants of all kind of software analyses, we wish to focus on the interesting algorithmic details rather than the trivial mistakes we make. Therefore, <strong>vallang</strong> values are <em>immutable</em>. Sharing of values or parts of values is allowed under-the-hood but is not observable. The library is implemented using persistent and/or maximally shared data structures for reasons of efficiency. </p><p>Users of <strong>vallang</strong> freely share references to their data to other parts of an analysis because they know the data can not change due to an unforeseen interaction. We also believe that the immutable values can be shared freely between threads on the JVM, but there are not enough tests yet to make such a bold claim with full confidence. </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="vallang-values-are-generated-via-the-abstractfactory-design-pattern-and-do-not-leak-implementation-representations">Vallang values are generated via the AbstractFactory design pattern and do not leak implementation representations<a class="hash-link" href="#vallang-values-are-generated-via-the-abstractfactory-design-pattern-and-do-not-leak-implementation-representations" title="Direct link to heading">‚Äã</a></h4><p>The reason is that client code <em>must</em> abstract from the implementation details to arrive at the mathematical precision of symbolic reasoning which <strong>vallang</strong> should provide.</p><p>This also serves a maintenance and evolution purpose for implementations of the library. We can plug in a new implementation of the library without affecting client code.</p><p>Note that for efficiency reasons values produced from different implementations of an abstract value factory (different implementations of <code>IValueFactory</code>) are not required to interact correctly.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="vallang-values-uniquely-deserializeserialize-fromto-a-standard-and-simple-expression-language">Vallang values uniquely deserialize/serialize from/to a standard and simple expression language<a class="hash-link" href="#vallang-values-uniquely-deserializeserialize-fromto-a-standard-and-simple-expression-language" title="Direct link to heading">‚Äã</a></h4><p>The general rule is that for any two JVM object reference <code>o</code> and <code>p</code> to any <strong>vallang</strong> object the following rule holds: <code>o.toString().equals(p.toString) &lt;==&gt; o.equals(p)</code></p><p>We currently random test this rule and it sometimes fails due to a deprecated feature called &quot;annotations&quot; which we are removing to make the above contract true.</p><p>The intended effects of the toString/equals contract of <strong>vallang</strong> are the following:</p><ul><li>What-you-see-is-what-you-get: debugging values by printing them means that you get as a programmer full disclosure about the meaning of the object</li><li>Structural equality and equational reasoning: the context in which values are created can not have any influence on their identity</li><li>Sharing is safe</li><li>Serialisation and deserialisation is never lossy</li><li>The sub-type relation for types of values coincides exactly with sublanguage concept of the set of sentences for all values of the given types. </li></ul><p>The latter point is one of the main reasons why <strong>vallang</strong> is called a <strong>lang</strong>uage. The result of <code>anyValue.toString()</code> is a members of a precisely defined textual languages. The full textual language is generated from the <code>value</code> type, and sub-languages are generated from the respective sub-types. <code>void</code> is the empty language. In this manner the types of <strong>vallang</strong> act like non-terminals of a precise context-free grammar. The <strong>vallang</strong> language as defined above is a strict sub-language of the <code>Expression</code> sub-language of Rascal.</p><p>The other reason why <strong>vallang</strong> is names as a language is because the implementations of the <code>IValue</code> interface and its sub-interfaces are seen as a closed combinator language for computations on the values, and their implementations are interpreters for this language. </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="vallang-values-always-know-their-most-precise-concrete-ad-hoc-run-time-type">Vallang values always know their most-precise concrete ad-hoc run-time type<a class="hash-link" href="#vallang-values-always-know-their-most-precise-concrete-ad-hoc-run-time-type" title="Direct link to heading">‚Äã</a></h4><ul><li>This is nice for debugging purposes, the types are descriptions of values and if matching or equality checking fails then the type abstraction usually explains why without having to go into reading the entire value.</li><li>Types may be computed lazily or eagerly, cashed or not. This is not functionally observable but it may affect run-time efficiency</li><li>Having precise run-time types for every (nested) value, and having efficient access to this, is a prerequisite for building fast and type-safe rank-2 polymorphic higher order functional computations. Or in functional terms: you need this to make folds and maps work on heterogenous recursive and open data-types. Or in simpler terms: using this we can build statically type-safe data traversal and daya transformation features into Rascal. </li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="vallang-values-include-both-trees-and-relations">Vallang values include both trees and relations<a class="hash-link" href="#vallang-values-include-both-trees-and-relations" title="Direct link to heading">‚Äã</a></h4><p>Even though both trees and relations are generic enought to represent any data, sometimes a graph or table is more natural than a tree and sometimes the other way around. </p><ul><li>trees are nice for abstract and concrete syntax representations</li><li>trees are nice for abstract symbolic domains, such as terms for constraint variables and binary constraints</li><li>relations are nice for graph-like unstructred data, such as project dependencies, call graphs, etc.</li><li>relations are nice for access to external data stored in spreadsheets and databases</li><li>trees are nice for access to web data stored in HTML, XML, JSON formats etc.</li><li>trees are good for transformation purposes, where we parse something, rewrite it and unparse it again</li><li>relations are good for analysis purposes, where we extract facts, elaborate on them and finally report the result.</li></ul><p>Rascal is a language which can be used to easily switch between different representations of the same information, using pattern matching, querying, comprehensions, etc. From <strong>vallang</strong> you should not expect any help in this regard: the choice of representation for any information is a key design decision for the user of <strong>vallang</strong>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="who-contributed-to-vallang">Who contributed to Vallang?<a class="hash-link" href="#who-contributed-to-vallang" title="Direct link to heading">‚Äã</a></h2><ul><li>Robert M. Fuhrer (IBM TJ Watson)</li><li>Jurgen J. Vinju (IBM TJ Watson and Centrum Wiskunde &amp; Informatica)</li><li>Arnold Lankamp (Centrum Wiskunde &amp; Informatica)</li><li>Michael Steindorfer (Centrum Wiskunde &amp; Informatica and TU Delft)</li><li>Davy Landman (Centrum Wiskunde &amp; Informatica and SWAT.engineering)</li><li>Paul Klint (Centrum Wiskunde &amp; Informatica)</li></ul><p>and occasional contributions from others please see <a href="https://github.com/usethesource/rascal-value/graphs/contributors" target="_blank" rel="noopener noreferrer">github&#x27;s factual overview</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-in-the-near-future-for-vallang">What is in the near future for Vallang?<a class="hash-link" href="#what-is-in-the-near-future-for-vallang" title="Direct link to heading">‚Äã</a></h2><ol><li>Removal of the &quot;annotations&quot; feature, which is completely replaces by the &quot;keyword fields&quot; feature. The main differences between these features are:<ul><li>While they both offer extensibility to the set of names and typed fields of nodes and constructors, annotations can never influence <code>equals()</code> while keyword fields always do. </li><li>Syntactically the notation for keyword fields is more compact: <code>f()[@myAnno=1]</code> versus <code>f(myField=1)</code></li></ul></li><li>Further integration of the capabilities of <a href="http://www.usethesource.io/projects/capsule" target="_blank" rel="noopener noreferrer">Capsule</a> for persistent and optimized immutable collections under the hood of <code>IMap</code>, <code>ISet</code>, <code>IRelationAlgebra</code>:<ul><li>Reflexive relations with two indices (for both columns)</li><li>Heterogeneous collections of numbers (unboxing down to primitive types to safe space)</li><li>Smooth and incremental transitions from map to multimap representations</li></ul></li><li><code>IBag</code>, the <code>bag[&amp;T]</code> type</li></ol></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2016/05/16/navigating-the-wordpress-plugin-landscape">Navigating the WordPress Plugin Landscape</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2016-05-16T00:00:00.000Z" itemprop="datePublished">May 16, 2016</time> ¬∑ <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="http://www.cs.ecu.edu/hillsma/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://s.gravatar.com/avatar/cf27b8d5ab19b451087c19f5493d32a9?s=270%27" alt="Mark Hills"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="http://www.cs.ecu.edu/hillsma/" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Mark Hills</span></a></div><small class="avatar__subtitle" itemprop="description">Associate Professor @ East Caroline University, Rascal Contributor</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Helping PHP developers using Rascal-based code analysis.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@inproceedings{hillsicpc2016,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  author = &quot;Mark Hills&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  title = &quot;Navigating the WordPress Plugin Landscape&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fulltext = &quot;http://www.cs.ecu.edu/hillsma/publications/icpc-plugins-2016.pdf&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  booktitle = &quot;Proceedings of the 2015 {IEEE} 23rd International Conference on Program</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               Comprehension&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  year = 2016,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  location = Austin,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  month = may,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>WordPress includes a plugin mechanism that allows user-provided code to be executed in response to specific system events and input/output requests. The large number of extension points provided by WordPress makes it challenging for new plugin developers to understand which extension points they should use, while the thousands of existing plugins make it hard to find existing extension point handler implementations for use as examples when creating a new plugin. In this paper, we present a lightweight analysis, supplemented with information mined from source comments and the webpages hosted by WordPress for each plugin, that guides developers to the right extension points and to existing implementations of handlers for these extension points. We also present empirical information about how plugins are used in practice, providing guidance to both tool and prospective plugin developers.</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2016/03/12/performance-modeling-of-maximal-sharing">Performance Modeling of Maximal Sharing - Experience Report</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2016-03-12T00:00:00.000Z" itemprop="datePublished">March 12, 2016</time> ¬∑ <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/msteindorfer" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/1998004?v=4" alt="Micheal Steindorfer"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/msteindorfer" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Micheal Steindorfer</span></a></div><small class="avatar__subtitle" itemprop="description">Researcher @ TU Delft, Rascal Contributor</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>This paper won a Best Paper award at ICPE 2016 in Delft. </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@inproceedings{icpe2016-steindorfer,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> author = {Michael Steindorfer and Jurgen J. Vinju.},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> title = {Performance Modeling of Maximal Sharing},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> booktitle = {7th ACM/SPEC International Conference on Performance Engineering (ICPE)},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> year = 2016,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> fulltext = &quot;http://homepages.cwi.nl/~jurgenv/papers/ICPE16.pdf&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It is noticeably hard to predict the effect of optimization strategies in Java without implementing them. ‚ÄúMaximal sharing‚Äù (a.k.a. ‚Äúhash-consing‚Äù) is one of these strategies that may have great benefit in terms of time and space, or may have detrimental overhead. It all depends on the redundancy of data and the use of equality. We used a combination of new techniques to predict the impact of maximal sharing on existing code: Object Re- dundancy Profiling (ORP) to model the effect on memory when sharing all immutable objects, and Equals-Call Profil- ing (ECP) to reason about how removing redundancy impacts runtime performance. With comparatively low effort, using the MAximal SHaring Oracle (MASHO), a prototype pro- filer based on ORP and ECP, we can uncover optimization opportunities that otherwise would remain hidden. We report on the experience of applying MASHO to real and complex case: we conclude that ORP and ECP combined can accurately predict gains and losses of maximal sharing, and also that (by isolating variables) a cheap predictive model can sometimes provide more accurate information than an expensive experiment can.</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2016/01/01/empirical-analysis-of-the-relationship-between-CC-and-SLOC">Empirical analysis of the relationship between CC and SLOC</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2016-01-01T00:00:00.000Z" itemprop="datePublished">January 1, 2016</time> ¬∑ <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://homepages.cwi.nl/~landman/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://homepages.cwi.nl/~landman/images/davylandman.png" alt="Davy Landman"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://homepages.cwi.nl/~landman/" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Davy Landman</span></a></div><small class="avatar__subtitle" itemprop="description">Language Engineer &amp; CEO of swat.engineering, Rascal Core Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Check out these two related articles on the empirical relation between the CC and SLOC source code metrics.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@ARTICLE{jsep2015-landman,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  author = { Davy Landman and Alexander Serebrenik and Eric Bouwers and Jurgen J. Vinju },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  title = { {Empirical analysis of the relationship between CC and SLOC in a large corpus of Java methods and C functions} },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  journal = { Journal of Software: Evolution and Process },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  year = { 2015 },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  doi = { 10.1002/smr.1760 },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fulltext  = &quot;http://homepages.cwi.nl/~landman/docs/Landman2015-ccsloc-jsep2015-preprint.pdf&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  datalink = { http://homepages.cwi.nl/~landman/jsep2015/ },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@INPROCEEDINGS{Landman2014,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  author = { Davy Landman and Alexander Serebrenik and Jurgen J. Vinju },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  title = { {Empirical analysis of the relationship between CC and SLOC in a large corpus of Java methods} },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  booktitle = { 30th IEEE International Conference on Software Maintenance and</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Evolution, ICSME 2014 },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  year = { 2014 },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  datalink = { http://homepages.cwi.nl/~landman/icsme2014/ },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fulltext= &quot;http://homepages.cwi.nl/~landman/docs/Landman2014-ccsloc-icsme2014-preprint.pdf&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Measuring the internal quality of source code is one of the traditional
goals of making software development into an engineering discipline.
Cyclomatic Complexity (CC) is an often used source code quality metric, next
to Source Lines of Code (SLOC). However, the use of the CC metric is
challenged by the repeated claim that CC is redundant with respect to SLOC
due to strong linear correlation.</p><p>We conducted an extensive literature study of the CC/SLOC correlation results.
Next, we tested correlation on large Java (17.6 M methods) and C (6.3 M
functions) corpora. Our results show that linear correlation between SLOC and CC
is only moderate as caused by increasingly high variance. We further observe
that aggregating CC and SLOC as well as performing a power transform improves
the correlation.</p><p>Our conclusion is that the observed linear correlation between CC and SLOC
of Java methods or C functions is not strong enough to conclude that CC is
redundant with SLOC. This conclusion contradicts earlier claims from
literature, but concurs with the widely accepted practice of measuring of CC
next to SLOC.</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2015/10/30/optimizing-hash-tries">Optimizing Hash Tries</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2015-10-30T00:00:00.000Z" itemprop="datePublished">October 30, 2015</time> ¬∑ <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="http://homepages.cwi.nl/~jurgenv" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.cwi.nl/news/2014/jurgen-vinju-appointed-professor/@@images/5e1fe43d-a00b-4989-a5b9-eb526725c6ee.jpeg" alt="Jurgen Vinju"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="http://homepages.cwi.nl/~jurgenv" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jurgen Vinju</span></a></div><small class="avatar__subtitle" itemprop="description">Groupleader @ CWI-SWAT, professor @ TU/E, Rascal Core Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Hash-tries are the data-structure under Rascal&#x27;s sets, maps and relations. These papers explain how they work and how we make them lean and fast on the JVM. <a href="https://blog.acolyer.org/2015/11/27/hamt/" target="_blank" rel="noopener noreferrer">Others</a> have blogged about these results as well. The code can be found in the <a href="http://www.usethesource.io/projects/capsule" target="_blank" rel="noopener noreferrer">Capsule project</a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@inproceedings{oopsla2015,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  title = {Optimizing Hash-Array Mapped Tries for Fast and Lean Immutable JVM Collections}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  author = {Michael Steindorder and Jurgen J. Vinju}.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  year = 2015,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  booktitle = {Proceedings of the Annual ACM SIGPLAN Conference on Object-Oriented Programming, Systems, Languages, and Applications (OOPSLA)},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  editor = {Patrick Eugster},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fulltext = &quot;http://michael.steindorfer.name/publications/oopsla15.pdf&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@inproceedings{gpce14,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> author = {Steindorfer, Michael J. and Vinju, Jurgen J.},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> title = {Code Specialization for Memory Efficient Hash Tries},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> booktitle = {Proceedings of the 2014 International Conference on Generative Programming: Concepts and Experiences},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> series = {GPCE 2014},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> year = {2014},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> pages = {11--14},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> numpages = {4},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> doi = {10.1145/2658761.2658763},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> publisher = {ACM},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> fulltext = &quot;http://michael.steindorfer.name/publications/gpce14.pdf&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The data structures under-pinning collection API (e.g. lists, sets, maps) in the standard libraries of programming languages are used intensively in many applications. The standard libraries of recent Java Virtual Machine languages, such as Clojure or Scala, contain scalable and well-performing immutable collection data structures that are implemented as Hash-Array Mapped Tries (HAMTs). HAMTs already feature efficient lookup, insert, and delete operations, however due to their tree-based nature their memory footprints and the runtime performance of iteration and equality checking lag behind array-based counterparts. This particularly prohibits their application in programs which process larger data sets. In this paper, we propose changes to the HAMT design that increase the overall performance of immutable sets and maps. The resulting general purpose design increases cache locality and features a canonical representation. It outperforms Scala‚Äôs and Clojure‚Äôs data structure implementations in terms of memory footprint and runtime efficiency of iteration (1.3‚Äì 6.7 x) and equality checking (3‚Äì25.4 x).</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2015/03/02/from-imperative-to-functional">From imperative programming to functional programming</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2015-03-02T00:00:00.000Z" itemprop="datePublished">March 2, 2015</time> ¬∑ <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="http://homepages.cwi.nl/~jurgenv" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.cwi.nl/news/2014/jurgen-vinju-appointed-professor/@@images/5e1fe43d-a00b-4989-a5b9-eb526725c6ee.jpeg" alt="Jurgen Vinju"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="http://homepages.cwi.nl/~jurgenv" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jurgen Vinju</span></a></div><small class="avatar__subtitle" itemprop="description">Groupleader @ CWI-SWAT, professor @ TU/E, Rascal Core Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Rascal features immutable data, but at the same time a number of language constructs which are a lot like &quot;traditional&quot; structured imperative programming: <code>while</code>, <code>if</code>, etc. Without going into the full power of these constructs in Rascal (featuring lexically scoped backtracking, for example) in this post we go into how <em>in the same language</em> we can program imperatively and functionally at the same time.</p><p>The reason Rascal features these two styles is that we want to make it easy for programmers who are used to the imperative paradigm to step into the language. More importantly, we want to make it easy to type classical textbook examples of program analysis and transformations pseudocode rather directly into Rascal syntax. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="a-story-about-even-numbers">A story about even numbers<a class="hash-link" href="#a-story-about-even-numbers" title="Direct link to heading">‚Äã</a></h3><p>Let&#x27;s write a function that generates all the even numbers in a list up to a certain maximum. We will do it in a few alternative
ways: from very imperative to very declarative and some steps in between.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">list[int] even0(int max) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  list[int] result = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  for (int i &lt;- [0..max])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (i % 2 == 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      result += i;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return result;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now lets remove the temporary type declarations:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">list[int] even1(int max) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  result = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  for (i &lt;- [0..max])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (i % 2 == 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      result += i;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return result;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To make the code shorter, we can inline the condition in the for loop:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">list[int] even2(int max) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  result = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  for (i &lt;- [0..max], i % 2 == 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    result += i;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return result;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In fact, for loops may produce lists as values, using the append statement:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">list[int] even3(int max) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  result = for (i &lt;- [0..max], i % 2 == 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    append i;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return result;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>So now, the result temporary is not necessary anymore:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">list[int] even4(int max) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return for (i &lt;- [0..max], i % 2 == 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           append i;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code is actually very close to a list comprehension already:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">list[int] even5(int max) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return [ i | i &lt;- [0..max], i % 2 == 0];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And now we can just define even using an expression only:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">list[int] even6(int max) = [i | i &lt;- [0..max], i % 2 == 0];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Or, perhaps we like a set instead of a list:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">set[int] even7(int max) = {i | i &lt;- [0..max], i % 2 == 0};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-just-happened">What just happened?<a class="hash-link" href="#what-just-happened" title="Direct link to heading">‚Äã</a></h3><p>In summary:</p><ul><li>We went from 5 lines of code to 1</li><li>We went from 3 control flow constructs (for, if, return) to 0</li><li>We introduced a list comprehension</li><li>All expressions have remained equal</li><li>Intermediate temporary variables dissappeared</li></ul><p>What did not happen is any magic. The code still executes the same &quot;algorithm&quot; if you will. The functional programming style in Rascal can be seen as a shorter notation for a more bloated use of imperative control flow constructs.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-usefulness-of-imperative-control-flow-constructs">The usefulness of imperative control flow constructs<a class="hash-link" href="#the-usefulness-of-imperative-control-flow-constructs" title="Direct link to heading">‚Äã</a></h3><p>Up front, Rascal&#x27;s control flow constructs are more powerful than general purpose programming languages control flow constructs. They feature lexically scoped backtracking, lists of conditions, etc.</p><p>Even without those advanced features, it is sometimes very handy to split a computation in parts without having to introduce another function abstraction. While exploring a new algorithm, temporary variables can be printed and inspected at debug time, etc.</p><p>In Rascal, people often use imperative control flow to <em>explore</em> solutions or <em>copy</em> them from text books, and when they are happy with the algorithm they try and improve the formulation by finding the right functional abstractions. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-benefit-of-functional-abstraction-over-imperative-control-flow">The benefit of functional abstraction over imperative control flow<a class="hash-link" href="#the-benefit-of-functional-abstraction-over-imperative-control-flow" title="Direct link to heading">‚Äã</a></h3><p>The real benefits, above brevity and elegance, of the functional style over the imperative style are reusability and extensibility. Smaller functional abstractions are easier to reuse and easier to override. Also, using Rascal&#x27;s dynamic dispatch using pattern matching (a.k.a. term rewriting) adding new options to algebraic data types can be complemented with adding new cases for functions. In the imperative style such an extension would imply editing existing code, while in the functional style this would not be necessary. See also this other <a href="http://www.rascal-mpl.org/from-functions-to-term-rewriting-and-back" target="_blank" rel="noopener noreferrer">post</a>.</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2013/08/02/the-language-interaction-design-of-concrete-syntax">The Language Interaction Design of Concrete Syntax</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2013-08-02T00:00:00.000Z" itemprop="datePublished">August 2, 2013</time> ¬∑ <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="http://homepages.cwi.nl/~jurgenv" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.cwi.nl/news/2014/jurgen-vinju-appointed-professor/@@images/5e1fe43d-a00b-4989-a5b9-eb526725c6ee.jpeg" alt="Jurgen Vinju"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="http://homepages.cwi.nl/~jurgenv" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jurgen Vinju</span></a></div><small class="avatar__subtitle" itemprop="description">Groupleader @ CWI-SWAT, professor @ TU/E, Rascal Core Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>This post dives into some of the design decisions regarding the manipulation of parse trees and abstract syntax trees in Rascal using <em>concrete syntax</em> notation. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="definitions">Definitions<a class="hash-link" href="#definitions" title="Direct link to heading">‚Äã</a></h2><p>What we call <em>concrete syntax</em> is a notation for syntax trees that is embedded into the expression notation of meta programming languages. This notation should be equal, or mostly equal, to the surface syntax of the language that is represented by the syntax trees, <em>and the expressions are still syntactically and statically checked for correctness</em>. As far as notations for syntax trees go, concrete syntax is a clear winner. Let&#x27;s compare some expressions representing a piece of C code.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="concrete-syntax">Concrete syntax<a class="hash-link" href="#concrete-syntax" title="Direct link to heading">‚Äã</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if (a &amp;&amp; b) { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  println(&quot;a and b&quot;); </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="lisp-s-expressions">Lisp S-expressions<a class="hash-link" href="#lisp-s-expressions" title="Direct link to heading">‚Äã</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(if ((and (id &quot;a&quot;) (id &quot;b&quot;)) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (block </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ((call (id &quot;println&quot;) (args (strconst &quot;a and b&quot;)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="xml">XML<a class="hash-link" href="#xml" title="Direct link to heading">‚Äã</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;if&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;and&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;id&gt;a&lt;/id&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;id&gt;b&lt;/id&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/and&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;block&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;call&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;id&gt;println&lt;/id&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;args&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;strconst&gt;a and b&lt;/strconst&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/args&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/call&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/block&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/if&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="yamljson">YAML/JSON<a class="hash-link" href="#yamljson" title="Direct link to heading">‚Äã</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - and:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     - id: a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     - id: b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - block:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     - call:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - id: println</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - args:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - strconst: a and b </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For the degenerate case of a single node with no children, of course any abstract notation wins. As soon as we have nesting, even marginally interesting code snippets, however, concrete syntax wins by landslide in terms of brevity and cognitive overload.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="meta-variables">Meta Variables<a class="hash-link" href="#meta-variables" title="Direct link to heading">‚Äã</a></h2><p>The above examples showed only literal program fragments. One distinguishing feature, however, of concrete syntax is ...</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="history">History<a class="hash-link" href="#history" title="Direct link to heading">‚Äã</a></h2><p>The concrete syntax feature appeared first, as far as I know and please correct me if I am wrong, in the early 1980&#x27;s in experimental meta programming systems and  algebraic specification systems. There was a concept of <em>mix fix</em> operator syntax where algebraic operators would not only be exclusively prefix, postfix or infix, but all at the same time. This would allow, for example, to define readable algebraic operators with arity larger than two such as <code>if _ then _ else _</code>. Some systems started to use BNF to define mix fix functions, and concrete syntax was born. In extreme cases, such as ASF+SDF any context-free grammar rule was allowed to be an operator, while in other systems more restrictions could apply. </p><p>If you are interested in what this all looked like, also in the years after that, the following is a list of names of systems that used or use mixfix operators or concrete syntax in some form or another:</p><ul><li>ASF+SDF</li><li>TXL</li><li>StrategoXT</li><li>Maude</li><li>ELAN</li><li>OBJ</li><li>Smarttools</li><li>Repleo</li><li>SugarJ</li><li>K</li></ul><p>People that I know by heart who published on the concrete syntax feature are Annika Aasa, Kent Petersson, Dan Synek, Chris Verhoef, Paul Klint, Eelco Visser, Peter Borovansky, Jan Rekers, Martin Bravenboer, Rob Vermaas, Radu Mereuta, Dorel Lucanu, Jeroen Arnoldus, and yours truly. There must be more.</p><p>Concrete syntax should not be confused with string or file templates, such as found in PHP-like template expanders. The difference is that such templates are flat strings that are not statically checked or parsed. With concrete syntax you can not write a pattern that will never match, and you can not write a pattern that will construct a syntactically incorrect output.</p><p>Concrete syntax is also strongly related to the older concept of <em>syntax macros</em> (1970&#x27;s). The similarity is that with syntax macros the user can also define the syntax of functions. The difference is that syntax macros are always expanded into the host language, while with concrete syntax the objects can be manipulated in an arbitrary way, often not to expand into the host language but rather to output a transformed output form.  </p><p>So, concrete syntax is not new or novel in any way. It is a good idea nevertheless, and it comes with interesting language usability trade-offs.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="quotes">Quotes<a class="hash-link" href="#quotes" title="Direct link to heading">‚Äã</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="types">Types<a class="hash-link" href="#types" title="Direct link to heading">‚Äã</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="rascal">Rascal<a class="hash-link" href="#rascal" title="Direct link to heading">‚Äã</a></h2></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2013/07/29/dsl-in-36-lines-of-code">A DSL in 36 lines of code</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2013-07-29T00:00:00.000Z" itemprop="datePublished">July 29, 2013</time> ¬∑ <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://homepages.cwi.nl/~storm/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.uva.nl/binaries/_ht_1610011694919/extralarge/content/gallery/personen/s/t/tijs-van-der-storm_low_res.jpg" alt="Tijs van der Storm"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://homepages.cwi.nl/~storm/" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Tijs van der Storm</span></a></div><small class="avatar__subtitle" itemprop="description">Senior researcher @ CWI-SWAT, professor @ RUG, Rascal Core Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>One of the goals of Rascal is to allow the definition of <a href="https://en.wikipedia.org/wiki/Domain-specific_language" target="_blank" rel="noopener noreferrer">Domain-Specific Languages</a>.
In this small post we give a flavor of how you can use Rascal to define the syntax of a DSL, a simple semantic check and how to compile the DSL to Java.</p><p>The following example shows how to define a simple DSL for state machines. It includes a parser, a check for unreachable states and a compiler to Java code. </p><p>The grammar of the DSL is defined using Rascal&#x27;s grammar formalism which is fully integrated in the language.
Shown below is the syntax definition of a simple state machine language, inspired by  Martin Fowler&#x27;s example language for <a href="http://www.informit.com/articles/article.aspx?p=1592379" target="_blank" rel="noopener noreferrer">gothic security</a>.</p><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">module Syntax</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">extend lang::std::Layout;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">extend lang::std::Id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">start syntax Machine = machine: State+ states;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">syntax State = @Foldable state: &quot;state&quot; Id name Trans* out;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">syntax Trans = trans: Id event &quot;:&quot; Id to;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A state machine consists of a number of named state declarations, where each state contains transitions to other states (identified by name) when a certain event happens.
The grammar reuses identifier syntax and whitespace convention from the standard library.
Each non-terminal defines a <em>type</em>. Parse trees are typed values like any other value in Rascal.
As a result, you can write functions that process such trees.
An example would be a semantic check on state machines, such as finding all unreachable states: </p><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">module Analyze</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import Syntax;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set[Id] unreachable(Machine m) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  r = { &lt;q1,q2&gt; | (State)`state &lt;Id q1&gt; &lt;Trans* ts&gt;` &lt;- m.states, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  (Trans)`&lt;Id _&gt;: &lt;Id q2&gt;` &lt;- ts }+;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  qs = [ q.name | q &amp;- m.states ];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return { q | q &lt;- qs, q notin r[qs[0]] };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To check for unreachable states, we first create a binary relation between states using a comprehension.
This comprehension uses <em>concrete syntax</em> matching to find a state&#x27;s transitions.
The pattern between backticks is written in the object language, which in this case is the statemachine language defined in the grammar above (Note the embedded syntax highlighting!).
The variables <code>q1</code> and <code>ts</code> in between <code>&lt;</code> and <code>&gt;</code> are bound for each state that is found in the machine <code>m</code>.
A similar pattern is used to find the target state <code>q2</code> is found in each transition in <code>ts</code>.
The post-fix <code>+</code> then computes the transitive closure of the relation. </p><p>The relation <code>r</code> is based on the transitions in a state machine.
This means that it does not include declared (final) states which have no outgoing transitions.
We collect the names of all defined states in <code>qs</code> , again using a comprehension. </p><p>The initial state is (conventionally) defined to be the state that is declared first.
An unreachable state is then defined as a state that is not in the right image of the initial state in the transitive closure of the transition relation.
This is exactly what is described by the last comprehension!
The notation <code>r[x]</code>, where <code>r</code> is a relation  is short hand for <code>{ y | &lt;x, y&gt; &lt;- r }</code>.</p><p>There are various ways of compiling a DSL to target code in Rascal. The simplest is using string templates and generate code in a general purpose language. The following snippet shows the generation of a Java while loop to execute a state machine.</p><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">module Compile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import Syntax;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">str compile(Machine m) =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;while (true) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;  event = input.next();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;  switch (current) { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;    &lt;for (q &lt;- m.states) {&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;    case \&quot;&lt;q.name&gt;\&quot;:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;      &lt;for (t &lt;- q.out) {&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;      if (event.equals(\&quot;&lt;t.event&gt;\&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;        current = \&quot;&lt;t.to&gt;\&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;      &lt;}&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;      break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;    &lt;}&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;}&quot;; </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>String templates allow arbitrary Rascal values and control-flow constructs to be interpolated in string literals. Note how this code does not use concrete matching, but instead uses the labels defined in the grammar (i.e., <code>states</code>, <code>out</code>, <code>event</code>, and <code>to</code>).</p><p>And that&#x27;s it! A complete DSL in 36 lines of code. Of course, the parser and the <code>unreachable</code> and <code>compile</code> functions can be connected to the IDE. This provides custom syntax highlighting, error-marking and automatic building in state machine editors.</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2013/05/15/from-functions-to-term-rewriting-and-back">From functions to term rewriting and back in Rascal</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2013-05-15T00:00:00.000Z" itemprop="datePublished">May 15, 2013</time> ¬∑ <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="http://homepages.cwi.nl/~jurgenv" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.cwi.nl/news/2014/jurgen-vinju-appointed-professor/@@images/5e1fe43d-a00b-4989-a5b9-eb526725c6ee.jpeg" alt="Jurgen Vinju"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="http://homepages.cwi.nl/~jurgenv" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jurgen Vinju</span></a></div><small class="avatar__subtitle" itemprop="description">Groupleader @ CWI-SWAT, professor @ TU/E, Rascal Core Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Here&#x27;s a nifty design element from Rascal that I personally like: functions are actually rewrite rules. The bottom line here is that pattern matching drives dynamic dispatch which results in openly extensible meta programs.</p><p>The design choice seems obvious for people who have been programming in ASF+SDF, Stratego and TXL who argue that rewrite rules and strategies were actually just functions.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="complete-functions">Complete functions<a class="hash-link" href="#complete-functions" title="Direct link to heading">‚Äã</a></h2><p>In Rascal we write functions in a Java/C/C# like syntax:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">int fac(int n) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (n == 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return n * f(n - 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Or slightly shorter and more elegant we could write:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">int f(int n) = n == 0 ? 1 : n * f(n - 1);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In fact, function definitions are just rewrite rules with a funny syntax, the <code>int n</code> is actually a pattern that matches integers only and binds them to the variable <code>n</code>. This means we can write more concrete patterns and separate the case distinction:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">int f(0) = 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">default int f(int n) = n * f(n - 1);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The default keyword here indicates to try this alternative only after the other ones, which is obligatory here since Rascal&#x27;s rules are statically mutually non-overlapping.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="functions-with-normal-forms">Functions with normal forms<a class="hash-link" href="#functions-with-normal-forms" title="Direct link to heading">‚Äã</a></h2><p>So far we have written a function which is total, i.e. it has to provide a result for all elements of the parameter types. To make this more rewriting-like, where we have normal forms, consider the interaction with constructor functions in the following example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data Bool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  = t()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | f()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | and(Bool l, Bool r)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   or(Bool l, Bool r)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bool and(f(), Bool _) = f();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bool and(t(), Bool b) = b;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here we see the <code>and</code> function defined for two cases, where the first argument matches either <code>t()</code> or <code>f()</code>. It is not defined for any other cases, for example the first argument could be an <code>or(t(),t())</code>, so in this sense it is partial. However, the data definition provides a <code>default</code> case for the and function, namely to construct the <code>and</code> term.</p><p>For those of us who are used to rewrite rules, we see rules that are labeled by the sort of the terms that are being rewritten.
Here are some example expressions executed in the console:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rascal&gt;and(t(),t())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bool: t();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rascal&gt;and(f(),t())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bool: f();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rascal&gt;and(or(t(),t()),t())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bool: and(or(t(),t()),t())</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="modularity-by-open-extensibility">Modularity by open extensibility<a class="hash-link" href="#modularity-by-open-extensibility" title="Direct link to heading">‚Äã</a></h2><p>The key benefit of being able to use pattern matching for dynamic dispatch, is extensibility. Suppose we add &quot;maybe&quot; to our logical language in a separate module. This is possible since data signatures are extensible:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data Bool = maybe();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now we need to reconsider the semantics of the <code>and</code> function, and without changing the original definitions for <code>and</code> we simply type these extensions to implement three-valued logic:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Bool and(maybe(), maybe()) = maybe()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bool and(maybe(), true()) = maybe()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bool and(maybe(), false()) = false()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pattern-matching-galore">Pattern matching galore<a class="hash-link" href="#pattern-matching-galore" title="Direct link to heading">‚Äã</a></h2><p>In Rascal we have a powerful pattern matching operator suite, including:</p><ul><li>list matching (associative), for example: <code>[*_, elem, _*, elem, _*]</code></li><li>set matching (commutative, associative, idempotent), for example: <code>f({e,*other, f({e,*nested})})</code></li><li>deep matching (recursive), as in <code>/t()</code> </li><li>negative matching, as in <code>!and(_,_)</code></li><li>non-linear matching (see above list matching example)</li><li>etc.</li></ul><p>These operators may occur in the parameter positions of function definitions, just as they can in switch, visit, {list,set,map} comprehensions, loops, conditionals, etc. As such they give a very broad means to the programmer on how to dispatch between cases. This is only limited by the rule that patterns needs to be mutually exclusive for a certain function.</p><p>Here is a function to remove double elements from a list, term rewriting style:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">list[value] dup([*value a, value e, *value b, e, *value c]) = dup([*a, e, *b, *c])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">default list[value] dup(list[value] l) = l;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And here is the same function but type parametrized:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">list[&amp;T] dup([*&amp;T a, &amp;T e, *&amp;T b, e, *&amp;T c]) = dup([*a, e, *b, *c])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">default list[&amp;T] dup(list[&amp;T] l) = l</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="from-unlabeled-to-labeled-rules">From unlabeled to labeled rules<a class="hash-link" href="#from-unlabeled-to-labeled-rules" title="Direct link to heading">‚Äã</a></h2><p>The big issue with rewrite rules is that they are applied automatically and this is sometimes cumbersome. Functions do not have this issue. Perhaps we should not have defined the boolean semantics so directly, and have wrapped it in a function:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data Bool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  = t()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | f()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | and(Bool l, Bool r)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | or(Bool l, Bool r)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bool eval(and(f(), Bool _)) = f();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bool eval(and(t(), Bool b)) = b;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This reads as labeled rules, we have two rules called &quot;eval&quot; that could be applied but will never be applied automatically unless somebody calls them as a function.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rascal&gt;eval(and(f(),t()))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bool: f()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Or, if we wish to apply this rule bottom-up through an entire boolean expression:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rascal&gt;visit (and(and(f(),t()),t())) { case Bool b =&gt; eval(b); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bool: f();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the above we used visit to automate the recursion, but we could have manually implemented the recursion as well:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Bool eval(and(t(), Bool b)) = eval(b);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="higher-order-functions-are-higher-order-rewrite-rules">Higher order functions are higher-order rewrite rules<a class="hash-link" href="#higher-order-functions-are-higher-order-rewrite-rules" title="Direct link to heading">‚Äã</a></h2><p>Since our &quot;rules&quot; are actually just functions, we can pass them and combine them just like in any other language that supports higher-order functions. This brings us dangerously close to the expressive power of what term rewriting people call strategies. Anonymous functions (lambdas) can use pattern matching just as any other function by the way.
So we can write expressions such as <code>(f + g)(x)</code> where we non-deterministically choose between applying <code>f</code> and <code>g</code> using pattern matching.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="a-note-on-types">A note on types<a class="hash-link" href="#a-note-on-types" title="Direct link to heading">‚Äã</a></h2><p>Rascal is a statically typed language, supporting type inference only within the body of functions. We made this choice in order to help keep bodies of functions slim, but without introducing difficult to understand error messages that can be caused by a too smart type inference algorithm. </p><p>This is the reason why all pattern variables in function definitions need to be typed while in normal patterns (nested in the bodies of functions) the types of pattern variables is inferred.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">‚Äã</a></h2><p>These were some thoughts on the correspondence between functions and rewrite rules as we put it into Rascal.  We came from a term rewriting world and wanted to keep using their power of pattern matching and open extensibility. Now we are in a world of functional and imperative programming where we can control their application with the flick of a for loop.</p></div><footer class="row docusaurus-mt-lg"></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/GettingStarted">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/rascal" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/usethesource" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 UseTheSource. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.b0386e6a.js"></script>
<script src="/assets/js/main.204a5bdf.js"></script>
</body>
</html>